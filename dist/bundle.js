!function(t){var e={};function s(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s(s.s=2)}([function(t){t.exports=JSON.parse('[["00BCD4","FFEB3B","FFEB3B","00BCD4"],["FFEB3B","FFC107","FFC107","FFEB3B"],["FFEB3B","FFC107","FFC107","FFEB3B"],["00BCD4","FFEB3B","FFEB3B","00BCD4"]]')},function(t){t.exports=JSON.parse("[[[255,0,0,6],[212,40,26,77],[202,55,38,121],[213,50,32,103],[210,49,33,125],[206,49,34,120],[207,48,34,111],[208,49,33,130],[208,49,35,125],[209,48,33,116],[208,49,34,119],[207,50,34,128],[207,48,33,122],[209,50,33,123],[209,48,33,122],[207,50,34,112],[209,48,35,117],[209,48,33,100],[208,50,35,103],[210,50,33,108],[210,49,34,119],[208,49,34,126],[208,49,34,119],[207,50,33,123],[208,49,34,120],[208,49,32,119],[208,49,34,120],[209,51,34,121],[208,49,33,115],[208,49,35,140],[206,49,33,99],[211,44,33,23]],[[222,33,23,77],[205,47,32,208],[207,51,35,236],[212,49,33,198],[211,49,33,219],[210,49,33,230],[206,49,34,220],[208,49,34,240],[207,49,34,233],[207,49,34,220],[206,49,34,226],[207,49,34,232],[207,49,33,236],[208,49,34,232],[212,49,34,233],[213,49,33,219],[210,49,33,227],[209,49,33,196],[210,48,33,200],[210,49,33,217],[206,49,34,226],[206,49,35,229],[207,49,34,227],[207,49,34,240],[207,49,34,228],[209,49,33,223],[208,49,34,232],[206,49,34,226],[206,49,34,217],[208,49,34,248],[205,49,34,224],[203,49,36,93]],[[200,55,39,143],[215,51,34,227],[175,48,37,225],[137,50,41,242],[156,49,39,238],[179,49,36,249],[181,49,36,249],[170,49,38,247],[169,49,37,247],[175,49,37,246],[179,49,36,247],[194,49,35,243],[202,49,34,250],[181,49,36,247],[179,49,37,250],[173,49,37,248],[181,49,36,250],[178,49,36,244],[169,49,37,243],[165,49,38,250],[174,49,37,246],[179,49,36,243],[181,49,36,248],[177,49,37,253],[178,49,36,247],[178,49,37,246],[174,49,37,249],[174,49,37,245],[172,49,37,245],[176,49,37,243],[201,50,35,242],[208,49,33,131]],[[208,49,35,124],[218,50,33,211],[158,49,39,227],[113,49,44,255],[137,49,41,255],[164,49,38,255],[175,49,37,255],[164,49,38,255],[162,49,38,255],[176,49,37,255],[198,49,34,255],[129,49,42,255],[101,49,45,255],[104,49,45,255],[46,49,51,255],[58,49,50,255],[67,49,49,255],[109,49,44,255],[166,49,37,255],[155,49,39,255],[158,49,39,255],[170,49,37,255],[171,49,37,255],[168,49,37,255],[165,49,38,255],[165,49,38,255],[161,49,38,255],[168,49,38,255],[160,49,39,255],[155,49,39,255],[200,49,35,228],[212,49,34,114]],[[206,49,35,125],[213,49,33,215],[170,49,38,224],[155,49,39,255],[162,49,38,255],[165,49,38,255],[171,49,37,255],[176,49,37,255],[189,49,35,255],[180,49,36,255],[105,49,44,255],[30,49,53,255],[14,49,55,255],[22,49,54,255],[33,49,53,255],[31,49,53,255],[32,49,53,255],[30,49,53,255],[86,49,47,255],[133,49,42,255],[151,49,40,255],[169,49,37,255],[162,49,38,255],[186,49,36,255],[177,49,36,255],[155,49,39,255],[161,49,38,255],[169,49,37,255],[155,49,39,255],[159,49,39,255],[201,49,35,214],[212,48,33,101]],[[205,50,33,123],[209,49,34,222],[188,49,36,233],[171,49,37,255],[176,49,37,255],[174,49,37,255],[164,49,38,255],[179,49,36,255],[178,49,36,255],[63,49,49,255],[18,49,54,255],[38,49,52,255],[43,49,51,255],[109,49,44,255],[146,49,40,255],[148,49,40,255],[84,49,47,255],[34,49,53,255],[34,49,53,255],[32,49,53,255],[52,49,51,255],[61,49,49,255],[41,49,52,255],[114,49,44,255],[171,49,37,255],[160,49,38,255],[161,49,38,255],[157,49,39,255],[149,49,40,255],[160,49,38,255],[204,49,34,218],[211,49,32,104]],[[205,48,33,122],[209,48,33,221],[190,49,36,236],[173,49,37,255],[179,49,37,255],[185,49,36,255],[178,49,36,255],[174,49,37,255],[86,49,47,255],[31,49,53,255],[37,49,52,255],[46,49,51,255],[132,49,41,255],[159,49,38,255],[177,49,36,255],[161,49,38,255],[41,49,52,255],[46,49,51,255],[42,49,52,255],[30,49,53,255],[27,49,53,255],[18,49,54,255],[18,49,54,255],[34,49,53,255],[33,49,53,255],[107,49,44,255],[200,49,34,255],[170,49,37,255],[162,49,38,255],[164,49,38,254],[202,49,34,225],[212,50,34,113]],[[204,49,34,120],[209,49,34,225],[188,49,35,243],[171,49,37,255],[170,49,37,255],[171,49,37,255],[201,49,34,255],[102,49,45,255],[11,49,55,255],[44,49,52,255],[43,49,52,255],[117,49,43,255],[144,49,40,255],[153,49,39,255],[127,49,43,255],[62,49,50,255],[38,49,52,255],[25,49,54,255],[45,49,51,255],[79,49,47,255],[107,49,44,255],[113,49,44,255],[88,49,46,255],[31,49,53,255],[17,49,55,255],[43,49,52,255],[119,49,43,255],[164,49,38,255],[168,49,38,255],[175,49,37,255],[202,49,34,210],[211,49,33,93]],[[205,50,34,128],[210,49,34,227],[184,49,36,235],[178,49,36,255],[182,49,36,255],[79,49,47,255],[44,49,51,255],[34,49,53,255],[49,49,51,255],[31,49,53,255],[95,49,46,255],[181,49,36,255],[136,49,41,255],[184,49,36,255],[78,49,48,255],[9,49,56,255],[34,49,53,255],[115,49,43,255],[167,49,38,255],[187,49,36,255],[175,49,37,255],[190,49,35,255],[199,49,34,255],[144,49,40,255],[73,49,49,255],[16,49,55,255],[25,49,54,255],[133,49,41,255],[168,49,37,255],[171,49,37,254],[200,49,34,217],[212,48,33,101]],[[204,49,34,126],[209,49,34,226],[192,49,36,237],[192,49,35,255],[105,49,45,255],[6,49,56,255],[51,49,51,255],[71,49,48,255],[43,49,52,255],[23,49,53,255],[102,49,45,255],[198,49,34,255],[178,49,37,255],[141,49,41,255],[48,49,51,255],[31,49,53,255],[99,49,45,255],[201,49,34,255],[192,49,35,255],[169,49,38,255],[194,49,34,255],[197,49,34,255],[200,49,34,255],[214,49,32,255],[203,49,34,255],[83,49,47,255],[12,49,55,255],[91,49,46,255],[180,49,36,255],[167,49,38,253],[200,49,34,237],[211,50,33,123]],[[204,48,34,121],[207,48,33,221],[217,49,32,239],[116,49,43,255],[9,49,56,255],[36,49,53,255],[163,49,38,255],[78,49,47,255],[29,49,53,255],[43,49,52,255],[139,49,40,255],[180,49,36,255],[185,49,36,255],[98,49,46,255],[8,49,56,255],[74,49,48,255],[189,49,35,255],[180,49,36,255],[202,49,34,255],[150,49,39,255],[139,49,41,255],[127,49,42,255],[85,49,47,255],[133,49,41,255],[179,49,36,255],[161,49,38,255],[31,49,53,255],[54,49,51,255],[170,49,37,255],[165,49,38,254],[198,49,35,232],[213,49,33,115]],[[206,49,34,129],[217,49,33,235],[184,49,36,241],[46,49,51,255],[16,49,55,255],[111,49,44,255],[214,49,32,255],[129,49,42,255],[33,49,53,255],[38,49,52,255],[159,49,38,255],[188,49,35,255],[187,49,35,255],[108,49,44,255],[6,49,56,255],[105,49,44,255],[215,49,32,255],[173,49,37,255],[91,49,46,255],[53,49,50,255],[19,49,54,255],[17,49,55,255],[15,49,55,255],[38,49,52,255],[43,49,51,255],[65,49,49,255],[50,49,51,255],[53,49,50,255],[158,49,39,255],[152,49,39,255],[196,49,34,193],[216,48,33,85]],[[210,49,34,129],[234,49,31,236],[119,49,44,241],[6,49,56,255],[52,49,51,255],[183,49,36,255],[203,49,34,255],[141,49,41,255],[14,49,55,255],[21,49,54,255],[84,49,47,255],[206,49,33,255],[209,49,33,255],[91,49,46,255],[0,49,57,255],[137,49,41,255],[199,49,34,255],[53,49,50,255],[0,49,58,255],[26,49,53,255],[58,49,50,255],[67,49,49,255],[54,49,50,255],[26,49,54,255],[32,49,53,255],[42,49,52,255],[36,49,52,255],[63,49,49,255],[166,49,38,255],[164,49,38,255],[202,49,36,186],[213,49,33,78]],[[207,48,33,116],[231,48,31,221],[133,49,42,245],[15,49,55,255],[53,49,51,255],[157,49,39,255],[190,49,35,255],[177,49,37,255],[107,49,45,255],[35,49,53,255],[22,48,53,255],[94,49,45,255],[207,49,33,255],[146,49,40,255],[21,49,54,255],[87,49,47,255],[65,49,49,255],[30,49,53,255],[120,49,43,255],[155,49,39,255],[160,49,39,255],[189,49,35,255],[157,49,39,255],[88,49,47,255],[60,49,49,255],[31,49,53,255],[51,49,51,255],[25,49,54,255],[96,49,45,255],[180,49,36,255],[203,50,33,206],[213,48,34,91]],[[210,49,32,119],[231,48,31,195],[113,49,44,210],[20,49,54,255],[29,49,53,255],[128,49,42,255],[193,49,35,255],[171,49,38,255],[189,49,35,255],[84,49,47,255],[26,49,52,255],[6,49,55,255],[70,49,49,255],[176,49,37,255],[93,49,46,255],[23,49,54,255],[22,49,54,255],[92,49,46,255],[175,49,37,255],[193,49,35,255],[208,49,33,255],[175,49,37,255],[155,49,39,255],[161,49,38,255],[170,49,37,255],[64,49,49,255],[30,49,53,255],[36,49,52,255],[75,49,48,255],[174,49,36,255],[205,50,33,206],[212,49,34,89]],[[212,49,34,136],[234,49,31,208],[107,49,44,204],[14,49,55,255],[36,49,52,255],[131,49,41,255],[191,49,35,255],[162,49,38,255],[138,49,41,255],[157,49,39,255],[137,49,41,255],[59,49,50,255],[9,49,55,255],[19,49,54,255],[63,49,49,255],[44,49,51,255],[53,49,51,255],[36,49,52,255],[9,49,55,255],[51,49,51,255],[109,49,44,255],[167,49,37,255],[155,49,39,255],[136,49,41,255],[178,49,36,255],[161,49,38,255],[53,49,51,255],[37,49,52,255],[24,49,54,255],[118,49,43,255],[222,49,32,217],[211,49,33,99]],[[205,50,35,118],[218,49,32,199],[177,49,37,223],[51,49,51,255],[38,49,52,255],[20,49,54,255],[140,49,41,255],[202,49,34,255],[148,49,40,255],[151,49,40,255],[193,49,35,255],[193,49,35,255],[152,49,39,255],[154,49,39,255],[69,49,49,255],[28,49,53,255],[30,49,53,255],[109,49,44,255],[124,49,42,255],[17,49,55,255],[10,49,55,255],[58,49,50,255],[113,49,43,255],[167,49,38,255],[147,49,40,255],[163,49,38,255],[107,49,45,255],[33,49,53,255],[23,49,54,255],[103,49,45,255],[223,49,32,226],[214,50,33,107]],[[205,50,35,118],[215,49,32,189],[183,49,36,210],[54,49,50,255],[39,49,52,255],[36,49,52,255],[47,49,51,255],[127,49,42,255],[190,49,35,255],[192,49,35,255],[196,49,35,255],[197,49,34,255],[197,49,34,255],[119,49,43,255],[23,49,54,255],[63,49,50,255],[41,49,52,255],[85,49,47,255],[196,49,34,255],[163,49,38,255],[60,49,50,255],[3,49,56,255],[52,49,51,255],[175,49,36,255],[173,49,37,255],[167,49,37,255],[152,49,39,255],[41,49,52,255],[22,49,54,255],[100,49,45,255],[221,49,32,220],[217,50,33,101]],[[206,49,34,114],[217,50,33,180],[178,49,37,208],[65,49,49,255],[37,49,52,255],[51,49,51,255],[34,49,53,255],[29,49,53,255],[74,49,48,255],[97,49,45,255],[112,49,44,255],[80,49,48,255],[44,49,52,255],[7,49,55,255],[76,49,48,255],[179,49,36,255],[54,49,50,255],[33,49,53,255],[141,49,40,255],[199,49,34,255],[162,49,38,255],[43,49,52,255],[26,49,53,255],[74,49,48,255],[167,49,38,255],[169,49,38,255],[143,49,40,255],[42,49,52,255],[25,49,54,255],[93,49,46,255],[218,49,32,207],[218,50,34,97]],[[207,48,33,100],[216,49,33,155],[184,49,36,208],[81,49,47,255],[36,49,52,255],[47,49,51,255],[31,49,53,255],[29,49,53,255],[23,49,54,255],[17,49,54,255],[8,49,55,255],[11,49,55,255],[26,49,53,255],[82,49,47,255],[197,49,34,255],[182,49,36,255],[50,49,51,255],[27,49,53,255],[101,49,45,255],[163,49,38,255],[197,49,34,255],[101,49,45,255],[27,49,53,255],[35,49,52,255],[136,49,41,255],[194,49,35,255],[135,49,41,255],[30,49,53,255],[53,49,51,255],[171,49,37,255],[206,49,34,203],[210,48,34,91]],[[206,49,34,104],[216,49,34,182],[181,49,36,222],[50,49,51,255],[20,49,54,255],[84,49,47,255],[136,49,41,255],[123,49,43,255],[55,49,50,255],[70,49,49,255],[78,49,47,255],[90,49,46,255],[160,49,38,255],[187,49,36,255],[210,49,33,255],[138,49,41,255],[29,49,53,255],[48,49,51,255],[131,49,41,255],[146,49,40,255],[180,49,36,255],[132,49,42,255],[33,49,53,255],[28,49,53,255],[101,49,45,255],[196,49,35,255],[69,49,49,255],[15,49,55,255],[56,49,50,255],[181,49,36,255],[204,49,34,224],[209,48,34,106]],[[207,50,35,102],[214,48,33,169],[186,49,36,214],[86,49,47,255],[22,49,54,255],[65,49,49,255],[182,49,36,255],[193,49,35,255],[174,49,37,255],[180,49,37,255],[177,49,37,255],[180,49,36,255],[180,49,37,255],[190,49,35,255],[181,49,36,255],[62,49,49,255],[22,49,54,255],[49,49,51,255],[141,49,40,255],[168,49,37,255],[182,49,36,255],[112,49,44,255],[32,49,53,255],[30,49,53,255],[98,49,46,255],[109,49,44,255],[14,49,55,255],[29,49,53,255],[143,49,40,255],[185,49,36,255],[201,49,34,235],[210,50,34,113]],[[206,49,35,88],[213,49,33,176],[186,49,35,234],[136,49,41,255],[32,49,53,255],[27,49,53,255],[72,49,48,255],[165,49,38,255],[207,49,33,255],[185,49,35,255],[185,49,36,255],[186,49,36,255],[192,49,35,255],[192,49,35,255],[77,49,48,255],[18,49,54,255],[30,49,53,255],[115,49,43,255],[167,49,37,255],[171,49,38,255],[190,49,35,255],[107,49,44,255],[34,49,53,255],[47,49,51,255],[50,49,51,255],[17,49,54,255],[25,49,54,255],[142,49,40,255],[192,49,35,255],[173,49,37,255],[200,49,35,228],[209,49,34,105]],[[207,48,35,117],[211,49,33,224],[186,49,36,243],[169,49,37,255],[85,49,47,255],[35,49,53,255],[29,49,53,255],[54,49,50,255],[138,49,41,255],[160,49,39,255],[161,49,38,255],[167,49,38,255],[121,49,43,255],[52,49,50,255],[40,49,52,255],[28,49,53,255],[59,49,50,255],[178,49,37,255],[178,49,36,255],[186,49,35,255],[175,49,37,255],[47,49,51,255],[40,49,52,255],[46,49,51,255],[20,49,54,255],[74,49,48,255],[151,49,39,255],[200,49,34,255],[174,49,37,255],[178,49,36,254],[202,48,33,221],[208,50,35,103]],[[207,48,33,122],[211,49,33,219],[184,49,36,233],[155,49,39,255],[170,49,37,255],[58,49,50,255],[17,49,54,255],[33,49,53,255],[29,49,53,255],[46,49,51,255],[49,49,51,255],[40,49,52,255],[31,49,53,255],[31,49,53,255],[18,49,55,255],[87,49,46,255],[190,49,35,255],[187,49,36,255],[178,49,37,255],[195,49,35,255],[119,49,43,255],[43,49,52,255],[36,49,52,255],[28,49,53,255],[89,49,46,255],[179,49,36,255],[194,49,35,255],[171,49,37,255],[174,49,37,255],[171,49,37,254],[200,49,34,186],[211,50,34,76]],[[207,48,34,121],[214,49,34,203],[180,48,37,221],[132,49,41,255],[147,49,40,255],[140,49,41,255],[99,49,45,255],[42,49,52,255],[22,49,54,255],[23,49,54,255],[30,49,53,255],[40,49,52,255],[46,49,51,255],[64,49,49,255],[70,49,48,255],[172,49,37,255],[202,49,34,255],[198,49,34,255],[195,49,34,255],[118,49,43,255],[16,49,54,255],[37,49,52,255],[46,49,51,255],[144,49,40,255],[190,49,35,255],[179,49,37,255],[168,49,38,255],[166,49,38,255],[170,49,37,255],[145,49,40,255],[195,48,34,148],[219,47,31,49]],[[206,49,34,104],[217,49,34,167],[163,49,38,209],[116,49,43,255],[129,49,42,255],[136,49,41,255],[177,49,36,255],[132,49,42,255],[73,49,48,255],[102,49,45,255],[72,49,48,255],[43,49,51,255],[32,49,53,255],[74,49,48,255],[135,49,42,255],[152,49,39,255],[129,49,42,255],[119,49,43,255],[64,49,49,255],[40,49,52,255],[30,49,53,255],[8,49,55,255],[97,49,45,255],[198,49,34,255],[158,49,39,255],[171,49,37,255],[149,49,40,255],[162,49,38,255],[178,49,36,255],[137,49,41,255],[195,49,34,156],[219,47,31,49]],[[206,49,35,110],[216,49,33,172],[165,49,39,205],[117,49,43,255],[128,49,42,255],[134,49,41,255],[155,49,39,255],[179,49,36,255],[174,49,37,255],[186,49,36,255],[174,49,37,255],[153,49,39,255],[80,49,47,255],[13,49,55,255],[21,49,54,255],[27,49,53,255],[30,49,53,255],[20,49,54,255],[19,49,54,255],[21,49,54,255],[71,49,48,255],[94,49,46,255],[153,49,39,255],[168,49,37,255],[152,49,39,255],[156,49,39,255],[156,49,39,255],[167,49,38,255],[169,49,37,255],[157,49,39,254],[196,49,35,181],[214,48,33,69]],[[207,48,34,106],[215,49,33,183],[172,49,39,225],[130,49,41,255],[120,49,43,255],[142,49,40,255],[157,49,39,255],[153,49,39,255],[152,49,39,255],[159,49,38,255],[154,49,39,255],[156,49,39,255],[156,49,38,255],[112,49,44,255],[66,49,49,255],[55,49,50,255],[30,49,53,255],[46,49,51,255],[78,49,48,255],[65,49,49,255],[156,49,39,255],[184,49,36,255],[136,49,41,255],[145,49,40,255],[143,49,40,255],[134,49,41,255],[146,49,40,255],[170,49,37,255],[157,49,39,255],[161,49,38,255],[200,48,35,221],[213,50,35,103]],[[205,50,33,122],[210,49,33,217],[184,49,36,235],[160,49,38,252],[155,49,39,245],[163,49,38,255],[157,49,39,253],[157,49,39,248],[158,49,39,255],[161,49,38,251],[157,49,39,249],[153,49,40,248],[156,49,39,245],[168,49,39,245],[154,49,39,248],[155,49,39,243],[136,49,41,252],[155,49,39,254],[191,49,35,252],[189,49,35,252],[175,49,37,255],[156,49,39,244],[145,49,40,248],[159,49,39,248],[151,49,39,247],[156,49,39,252],[150,49,39,250],[166,49,38,249],[166,49,38,255],[163,49,38,255],[202,49,34,252],[212,51,33,131]],[[206,49,34,67],[204,50,34,180],[205,50,34,216],[209,49,33,198],[208,48,34,179],[209,49,33,188],[209,49,34,172],[208,49,34,167],[205,49,34,172],[204,49,34,171],[208,49,34,167],[208,49,33,183],[206,49,34,165],[204,49,33,130],[207,48,34,137],[208,49,34,136],[219,49,32,157],[216,49,33,178],[205,50,34,190],[208,49,34,201],[210,50,33,206],[203,48,33,153],[210,49,33,146],[207,48,34,142],[204,49,33,146],[207,49,34,186],[207,48,34,163],[206,49,34,186],[205,50,34,211],[207,48,33,221],[204,49,34,213],[204,48,32,95]],[[209,46,35,22],[206,49,36,93],[208,49,33,130],[212,50,34,113],[215,50,32,102],[212,48,33,100],[213,48,34,90],[215,48,34,90],[215,49,34,89],[213,48,34,91],[215,49,34,89],[213,50,32,103],[215,49,34,89],[217,51,34,60],[216,47,31,65],[216,50,35,66],[215,50,33,77],[212,51,32,95],[212,50,33,107],[211,48,33,116],[209,48,35,117],[214,50,31,81],[216,50,32,72],[214,49,34,68],[216,50,32,72],[215,50,32,102],[216,48,33,85],[211,49,34,105],[211,48,33,122],[213,50,35,132],[204,48,33,116],[200,49,30,42]]]")},function(t,e,s){"use strict";s.r(e);s(3);class o{constructor(t,e){this.canvas=t,this.ctx=e,this.ctx.fillStyle="#000000",this.currentColor="#000000",this.previousColor="#ffffff",this.pallete=document.querySelector("._color_menu"),this.currentColorNode=this.pallete.querySelector("._current_color"),this.previousColorNode=this.pallete.querySelector("._prev_color"),this.currentColorNode.style.background=this.currentColor,this.previousColorNode.style.background=this.previousColor,this.getColor=this.getColor.bind(this),this.pickColor=this.pickColor.bind(this),this.checkColor=this.checkColor.bind(this),this.changeColorPallete=this.changeColorPallete.bind(this),this.previousColorClickHandler=this.previousColorClickHandler.bind(this),this.colorPalette=document.querySelector("._rainbow")}rgb2hex(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}getColor(t){const e=this.ctx.getImageData(t[0]+2,t[1]+2,1,1).data;return this.rgb2hex(`rgba(${e[0]},${e[1]},${e[2]},${e[3]}`)}pickColor(t){const e=this.getColor(t);this.ctx.fillStyle!==e&&this.changeColorPallete(e)}checkColor(t){return this.getColor(t)===this.ctx.fillStyle}changeColorPallete(t){this.currentColor!==t&&(this.previousColor=this.currentColor,this.currentColor=t,this.ctx.fillStyle=t,this.previousColorNode.style.background=this.currentColorNode.style.background,this.currentColorNode.style.background=t)}previousColorClickHandler(){const t=this.previousColor;this.changeColorPallete(t)}start(){this.colorPalette.addEventListener("click",t=>{if("_item"!==t.target.className)return;const e=t.target.getAttribute("color");this.changeColorPallete(e)})}}class i{constructor(t,e,s,o){this.canvas=t,this.size=this.canvas.width,this.ctx=e,this.colorControll=s,this.color="#ffffff",this.fillColor="#000000",this.leftSquaries=[],this.rightSquaries=[],this.ratio=16,this.scale=this.size/this.ratio,this.startPath=this.startPath.bind(this)}getUpperColor(t){const e=t[1]-t[2];if(e<0)return!1;const s=[t[0],e,t[2]];return this.color===this.colorControll.getColor(s)}getDownColor(t){const e=t[1]+t[2];if(e>this.size-t[2])return!1;const s=[t[0],e,t[2]];return this.color===this.colorControll.getColor(s)}getLeftColor(t){const e=t[0]-t[2];if(e<0)return!1;const s=[e,t[1],t[2]];return this.color===this.colorControll.getColor(s)}getRightColor(t){const e=t[0]+t[2];if(e>this.size-t[2])return;const s=[e,t[1],t[2]];return this.color===this.colorControll.getColor(s)}startPath(t){let e,s,o;this.size=this.canvas.width,this.color=this.colorControll.getColor(t),this.fillColor=this.colorControll.currentColor;const i=[],r=[],a=t=>{if(this.getLeftColor(t)){let e=t[0]-t[2],s=t[1],o=t[2];i.push([e,s,o])}if(this.getRightColor(t)){let e=t[0]+t[2],s=t[1],o=t[2];r.push([e,s,o])}},n=t=>{for(e=t[0],s=t[1],o=t[2];this.getUpperColor([e,s,o]);)s-=o;for(this.ctx.fillRect(e,s,o,o);this.getDownColor([e,s,o]);)this.ctx.fillRect(e,s,o,o),a([e,s,o]),s+=o;a([e,s,o]),this.ctx.fillRect(e,s,o,o)};for(n(t);r.length>0;)n(r.pop());for(;i.length>0;)n(i.pop())}test(t){console.log(this.colorControll.getColor(t))}}var r=s(0),a=s(1);class n{constructor(t){this.app=t,this.handleButton=this.handleButton.bind(this),this.canvas=t.canvas,this.currentColorNode=document.querySelector("._current_color"),this.API_KEY="2887c5cdabcfdda6eb369774636e205dc3fbb66527438b259580c3f60db977f9",this.town=null,this.imageData=null}handleButton(t){if("image"===t.target.getAttribute("val"))this.town=document.querySelector("._town").value,this.getRandomImage(this.town);else if("_grayscale"===t.target.className){if(null===this.imageData)return void alert("Please, load the image before grayscaling");this.changeImageToGrayscale()}else"_clearcanvas"===t.target.className&&this.clearCanvas()}changeImageToGrayscale(){const t=this.grayscaleImageData(this.imageData);this.canvas.getContext("2d").putImageData(t,0,0),console.log(t)}grayscaleImageData(t){const e=t.data;for(var s=0;s<e.length;s+=4){var o=.34*e[s]+.5*e[s+1]+.16*e[s+2];e[s]=o,e[s+1]=o,e[s+2]=o}return t}getImageData(){return this.canvas.getContext("2d").getImageData(0,0,this.canvas.width,this.canvas.height)}drawImage(t){this.clearCanvas();const e=this.canvas.getContext("2d"),s=new Image;let o,i;s.src=t||"../src/js/DataLoad/data/image.png",s.setAttribute("crossorigin","anonymous"),s.onload=()=>{const t=this.app.canvas.width;if(parseInt(s.width)>=parseInt(s.height)){const e=s.height/s.width;o=t,i=Math.floor(o*e)}else{const e=s.width/s.height;i=t,o=Math.floor(i*e)}const r=(t-o)/2>0?(t-o)/2:0,a=(t-i)/2>0?(t-i)/2:0;e.drawImage(s,r,a,o,i),this.imageData=this.getImageData()}}clearCanvas(){this.canvas.getContext("2d").clearRect(0,0,this.app.canvas.width,this.app.canvas.width)}drawHex(t,e){const s=512/t,o=this.canvas.getContext("2d");let i=0,r=0;e.forEach(t=>{t.forEach(t=>{o.fillStyle=`#${t}`,o.fillRect(i,r,i+s,r+s),i+=s}),r+=s,i=0})}drawRGBA(t,e){const s=512/t,o=this.canvas.getContext("2d");let i=0,r=0;e.forEach(t=>{t.forEach(t=>{const e=`rgba(${t.reduce((t,e,s)=>t+=3!==s?`${e}, `:`${e}`,"")})`;o.fillStyle=e,o.fillRect(i,r,i+s,r+s),i+=s}),r+=s,i=0})}drawCanvasFromJSON(t){t&&("4"===t&&this.drawHex(t,r),"32"===t&&this.drawRGBA(t,a),this.canvas.getContext("2d").fillStyle=this.currentColorNode.style.background)}start(){document.querySelector("._data_menu").addEventListener("click",this.handleButton)}async getRandomImage(t){const e=`https://api.unsplash.com/photos/random?query=town,${t?t.split(" ").join(""):"Minsk"}&client_id=${this.API_KEY}`;await fetch(e).then(t=>t.json()).then(t=>{try{const e=t.urls.small;this.drawImage(e)}catch{this.drawImage("../src/js/DataLoad/data/testImage.png")}})}}class l{constructor(t){this.app=t,this.selectedPenSize=document.querySelector("._pen-size ._item:first-of-type"),this.selectedPenSize.classList.add("selected"),this.selectedVSize=document.querySelector("._change-canvas-size ._item:first-of-type"),this.selectedVSize.classList.add("selected"),this.size=128}changeByRatio(t){const e=document.querySelector(`._pen-size [penSize='${t}']`);this.selectedPenSize!=e&&(this.selectedPenSize.classList.remove("selected"),this.selectedPenSize=e,this.selectedPenSize.classList.add("selected"))}changeBySize(t){const e=new Image;e.src=document.querySelector(".canvas_main").toDataURL("image/png"),this.app.canvas.width=this.app.canvas.height=t,e.width=e.height=t,e.setAttribute("crossorigin","anonymous"),console.log(e),e.onload=()=>{this.app.ctx.drawImage(e,0,0,this.app.canvas.width,this.app.canvas.width)};const s=document.querySelector(`._change-canvas-size [vSize="${t}"]`);this.selectedVSize!=s&&(this.selectedVSize.classList.remove("selected"),this.selectedVSize=s,this.selectedVSize.classList.add("selected"))}handlePenSize(t){const e=t.target.getAttribute("penSize");e&&(this.app.ratio=e,this.changeByRatio(this.app.ratio))}handleCanvasSize(t){const e=t.target.getAttribute("vSize");e&&(this.size=e,this.changeBySize(this.size))}start(){document.querySelector("._pen-size").addEventListener("click",this.handlePenSize.bind(this)),document.querySelector("._change-canvas-size").addEventListener("click",this.handleCanvasSize.bind(this))}}const c=new class{constructor(){this.instrument="pencil",this.canvas=document.querySelector(".canvas_main"),this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.ratio=4,this.colorContoll=new o(this.canvas,this.ctx),this.paintBucket=new i(this.canvas,this.ctx,this.colorContoll,this.ratio),this.sizeControl=new l(this),this.dataLoader=new n(this),this.body=document.querySelector("._artist"),this.selectedNode=document.querySelector("[name=pencil]"),this.handleClick=this.handleClick.bind(this),this.handlePress=this.handlePress.bind(this),this.draw=this.draw.bind(this),this.drawPath=this.drawPath.bind(this),this.changeSelect=this.changeSelect.bind(this),this.changeInstrument=this.changeInstrument.bind(this)}changeInstrument(t){const e=document.querySelector(`[name=${t}]`);this.changeSelect(e,t)}changeCursor(){"pencil"===this.instrument?document.body.style.cursor="url('../src/assets/cursors/pencil.cur'), pointer":"fill_bucket"===this.instrument?document.body.style.cursor="url('../src/assets/cursors/bucket.cur'), pointer":"color_picker"===this.instrument&&(document.body.style.cursor="url('../src/assets/cursors/color-picker.cur'), pointer")}changeSelect(t,e){if(this.selectedNode){if(this.selectedNode===t)return this.selectedNode.classList.remove("selected"),this.selectedNode=null,void(this.instrument=null);this.selectedNode.classList.remove("selected"),this.selectedNode=t}else this.selectedNode=t;this.selectedNode.classList.add("selected"),this.instrument=e,this.changeCursor()}handleClick(t){if("_artist_item"!==t.target.classList[0])return;const e=t.target.getAttribute("name");this.changeSelect(t.target,e)}handlePress(t){112===t.keyCode&&this.changeInstrument("pencil"),98===t.keyCode&&this.changeInstrument("fill_bucket"),99===t.keyCode&&this.changeInstrument("color_picker")}draw(t){if(!this.instrument)return;const e=this.getSquare(t);if("pencil"===this.instrument&&(this.pencilDraw(e),this.canvas.addEventListener("mousemove",this.drawPath),this.canvas.addEventListener("mouseup",()=>this.canvas.removeEventListener("mousemove",this.drawPath)),this.canvas.addEventListener("mouseleave",()=>this.canvas.removeEventListener("mousemove",this.drawPath))),"color_picker"===this.instrument&&this.colorContoll.pickColor(e),"fill_bucket"===this.instrument){if(this.colorContoll.getColor(e)===this.colorContoll.currentColor)return;this.paintBucket.startPath([e[0],e[1],this.canvas.width/16])}"test"===this.instrument&&this.paintBucket.test(e)}drawPath(t){const e=this.getSquare(t);this.pencilDraw(e)}pencilDraw(t){this.ctx.fillRect(t[0],t[1],t[2],t[2])}getSquare(t){const e=512/this.canvas.width,s=Math.floor((t.pageX-this.canvas.offsetLeft)/e),o=Math.floor((t.pageY-this.canvas.offsetTop)/e),i=this.canvas.width/this.ratio;return[i*Math.floor(s/i),i*Math.floor(o/i),i]}start(){this.body.addEventListener("click",this.handleClick),window.addEventListener("keypress",this.handlePress),this.canvas.addEventListener("mousedown",this.draw),this.ctx.fillStyle="#ffffff",this.ctx.fillRect(0,0,512,512),this.ctx.fillStyle="#000000",this.colorContoll.previousColorNode.addEventListener("click",this.colorContoll.previousColorClickHandler),this.colorContoll.start(),this.dataLoader.start(),this.sizeControl.start()}};c.start();const h=localStorage.getItem("imageData"),d=localStorage.getItem("instrument"),u=localStorage.getItem("currentColor"),g=localStorage.getItem("previousColor"),C=localStorage.getItem("penSize"),m=localStorage.getItem("size");if(h){const t=new Image;t.src=h,t.onload=()=>{c.canvas.getContext("2d").drawImage(t,0,0)}}"null"!==d&&"pencil"!==d&&c.changeInstrument(d),C&&(c.ratio=C,c.sizeControl.changeByRatio(C)),["128","256","512"].includes(m)&&(c.sizeControl.size=m,c.sizeControl.changeBySize(m)),u&&g&&(c.colorContoll.changeColorPallete(g),c.colorContoll.changeColorPallete(u),c.ctx.fillStyle=u,c.colorContoll.ctx.fillStyle=u),window.addEventListener("unload",()=>{localStorage.setItem("currentColor",c.colorContoll.currentColor),localStorage.setItem("previousColor",c.colorContoll.previousColor),localStorage.setItem("instrument",c.instrument),localStorage.setItem("imageData",c.canvas.toDataURL()),localStorage.setItem("penSize",c.ratio),localStorage.setItem("size",c.sizeControl.size)})},function(t,e){}]);